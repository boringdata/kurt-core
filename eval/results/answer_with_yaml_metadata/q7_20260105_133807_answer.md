---
sources:
  - doc: motherduck.com/learn-more/hybrid-analytics-guide.md
    lines: 79-94
    claim: "How to join local CSVs with cloud data using Dual Execution"
  - doc: motherduck.com/learn-more/modern-data-warehouse-playbook.md
    lines: 375-377
    claim: "Write a single SQL query that joins local CSV with MotherDuck cloud data"
---

# Joining a Local CSV with an S3 Table Using MotherDuck

The most efficient way to join a local CSV on your laptop with a table in S3 is to use **MotherDuck's Dual Execution** feature, which intelligently minimizes data transfer by pushing computation to where the data lives.

## How It Works

MotherDuck treats your laptop and the MotherDuck cloud as two nodes in a single distributed system. When you run a hybrid query, the planner:

1. **Scans locally**: It scans the small CSV on your laptop
2. **Filters locally**: Applies any filters on your local machine first
3. **Transfers minimal data**: Sends only the filtered/needed rows to the cloud
4. **Joins in the cloud**: Performs the final join against the large cloud table

## Example Approach

```sql
-- Your local CSV is referenced directly, cloud data via MotherDuck
SELECT
    local_data.*,
    cloud_table.*
FROM read_csv('local_file.csv') AS local_data
JOIN my_cloud_database.s3_table AS cloud_table
    ON local_data.id = cloud_table.id
WHERE local_data.region = 'North America';
```

## Key Benefits

- **Eliminates complex ETL**: No need to upload your entire CSV to S3 first
- **Minimizes data transfer**: Only filtered/necessary data crosses the network
- **Single query**: Write one SQL statement that seamlessly joins local and cloud data
- **Interactive performance**: What would be a difficult data movement problem becomes an interactive query

## Verifying Execution Plan

Use `EXPLAIN` to see which parts run locally `(L)` vs remotely `(R)`:

```sql
EXPLAIN SELECT ... FROM read_csv('local.csv') JOIN cloud_table ...
```

This shows MotherDuck's intelligent query planning in action, proving minimal data is being transferred.
