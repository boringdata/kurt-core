---
# Kurt Evaluation Scenarios - MotherDuck Question Answering
#
# Test scenario for the answer command with MotherDuck documentation

scenarios:
  - name: answer_motherduck
    description: Answer questions about MotherDuck using knowledge graph
    project: motherduck
    conversational: false  # Command-based scenario - no agent interaction

    notes: |
      Tests the answer command with MotherDuck documentation:
      - Load pre-built knowledge graph from motherduck dump (874 docs, 371 entities)
      - Run kurt answer command for each test case
      - Verify the answers using test case assertions

    test_cases:
      - question: "What file formats are most efficient for loading data into MotherDuck?"
        cmd: KURT_TELEMETRY_DISABLED=1 uv run kurt answer "What file formats are most efficient for loading data into MotherDuck?"

    assertions:
      # Verify knowledge graph is populated
      - type: SQLQueryAssertion
        query: SELECT COUNT(*) >= 100 FROM entities

      - type: SQLQueryAssertion
        query: SELECT COUNT(*) >= 500 FROM documents
