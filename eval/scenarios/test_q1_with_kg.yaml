---
name: test_q1_with_kg
description: "Test Q1 only - Answer MotherDuck questions using knowledge graph"
project: motherduck
conversational: true
setup_commands:
  - uv run --project /Users/julien/Documents/wik/wikumeo/projects/kurt-core python /Users/julien/Documents/wik/wikumeo/projects/kurt-core/eval/framework/dumps/loader.py motherduck
question_set:
  questions:
    - question: "What file formats are most efficient for loading data into MotherDuck?"
      expected_answer: "Parquet is the most efficient file format for loading data into MotherDuck."
  answer_file_template: /tmp/test_answer_with_kg_{question_num}.md
  initial_prompt: |
    Answer this question using the knowledge graph and source documents:

    {question}

    Required Steps:
    1. Query the knowledge graph to find relevant entities about file formats, data loading, and MotherDuck
    2. For the most relevant entities, read their associated source documents
    3. As you read, keep track of:
       - The entity and its metadata
       - The source file path
       - Key information extracted
    4. Synthesize a comprehensive answer based on the information found
    5. Write your answer to: {answer_file}

    IMPORTANT - Your answer MUST have this structure:
    ```markdown
    # Answer

    [Your comprehensive answer here, drawing from the entities and sources you found]

    ## Sources

    List each source file you actually read and used, showing the EXACT LOCAL FILE PATH:
    - .kurt/sources/motherduck.com/[path/to/file.md] - Brief description of key information used from this file
    - .kurt/sources/motherduck.com/[path/to/file.md] - Brief description of key information used from this file
    [etc.]

    DO NOT use URLs or document titles as links. Show the actual file path you read with the Read tool.
    ```

    The Sources section is MANDATORY - you must list every file you read to answer the question.

  assertions:
    - type: FileExists
      path: "{answer_file}"
  llm_judge:
    enabled: true
    provider: anthropic
  results_dir: eval/results/test_q1_with_kg